<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Toddler App</title>
    <!-- Removed Import Map as we use REST API now -->
    <link rel="stylesheet" href="css/style.css?v=2">
</head>

<body>
    <div id="app-container">
        <!-- Close/Home Button -->
        <button id="close-btn" class="close-btn" title="홈으로">✕</button>
        <!-- MODE: PLAY (Child) - Direct start, no tabs -->
        <div id="mode-play" class="mode-container active">
            <!-- Screen 1: Intro -->
            <div id="game-intro" class="screen active">
                <div class="intro-header">
                    <h1 class="title">AI 그림 놀이</h1>
                    <p class="subtitle">AI와 같이 한글을 배워요</p>
                </div>
                <!-- Roulette Image Carousel -->
                <div class="roulette-container" id="roulette-container">
                    <div class="roulette-track" id="roulette-track">
                        <img src="assets/1.png" alt="Image 1" class="roulette-img" data-index="0">
                        <img src="assets/1 (1).png" alt="Image 2" class="roulette-img" data-index="1">
                        <img src="assets/1 (2).png" alt="Image 3" class="roulette-img" data-index="2">
                        <img src="assets/1 (3).png" alt="Image 4" class="roulette-img" data-index="3">
                        <img src="assets/1 (4).png" alt="Image 5" class="roulette-img" data-index="4">
                        <img src="assets/1 (5).png" alt="Image 6" class="roulette-img" data-index="5">
                        <img src="assets/loading.png" alt="Image 7" class="roulette-img" data-index="6">
                        <img src="assets/1 (7).png" alt="Image 8" class="roulette-img" data-index="7">
                        <img src="assets/1 (8).png" alt="Image 9" class="roulette-img" data-index="8">
                        <img src="assets/1 (9).png" alt="Image 10" class="roulette-img" data-index="9">
                    </div>
                    <div class="roulette-indicator bottom">
                        <span class="drag-hint">← 드래그해서 넘겨보세요 →</span>
                    </div>
                </div>

                <!-- Colored Background Section (Previously White) -->
                <div class="intro-content-section">
                    <div class="stage-buttons-container">
                        <button id="start-stage-1" class="btn-stage" data-stage="1">
                            <span class="stage-number">Step 1</span>
                            <span class="stage-label">1개 선택하기</span>
                        </button>
                        <button id="start-stage-2" class="btn-stage" data-stage="2">
                            <span class="stage-number">Step 2</span>
                            <span class="stage-label">2개 선택하기</span>
                        </button>
                        <button id="start-stage-3" class="btn-stage" data-stage="3">
                            <span class="stage-number">Step 3</span>
                            <span class="stage-label">3개 선택하기</span>
                        </button>
                        <button id="start-stage-4" class="btn-stage" data-stage="4">
                            <span class="stage-number">Step 4</span>
                            <span class="stage-label">4개 선택하기</span>
                        </button>
                        <button id="start-stage-5" class="btn-stage" data-stage="5">
                            <span class="stage-number">Step 5</span>
                            <span class="stage-label">5개 선택하기</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Screen 2: Game Loop -->
            <!-- Screen 2: Game Loop -->
            <div id="game-loop" class="screen hidden">
                <div class="game-layout">
                    <div class="game-main">
                        <div class="progress-bar-container">
                            <div id="progress-fill"></div>
                        </div>
                        <h2 id="game-instruction">무엇을 그릴까요?</h2>
                        <div class="grid-container grid-5" id="game-grid">
                            <!-- 5 items will be here -->
                        </div>
                    </div>
                    <div class="game-sidebar">
                        <h3>선택한 그림</h3>
                        <div id="previous-choices" class="choice-summary"></div>
                    </div>
                </div>
            </div>

            <!-- Screen 3: Result -->
            <div id="game-result" class="screen hidden">
                <div class="result-layout">
                    <div id="result-image-container">
                        <!-- Loading Overlay with CSS Animation -->
                        <div id="loading-overlay" class="loading-overlay hidden">
                            <div class="loading-spinner"></div>
                        </div>
                        <img id="final-image" src="" alt="Result">
                        <p id="result-sentence" class="sentence-display"></p>
                    </div>
                    <div class="result-sidebar">
                        <div id="result-choices" class="choice-summary"></div>
                        <button id="save-btn" class="btn-secondary">저장하기</button>
                        <button id="restart-btn" class="btn-primary">다시하기</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- API key modal removed - using Pollinations.ai which doesn't require API key -->

    <!-- Scripts -->
    <script src="js/data.js?v=2"></script>
    <script src="js/logic.js?v=2"></script>
    <script src="js/api_v3.js?v=2"></script>
    <script src="js/audio.js?v=2"></script>
    <script src="js/roulette.js?v=1"></script>
    <script src="js/app.js?v=2"></script>
</body>

</html>